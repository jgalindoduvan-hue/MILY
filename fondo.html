<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Corazones Neón con Glow</title>
  <style>
    body {
      margin: 0;
      background: #000; /* fondo negro */
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Colores de transición: rosa neón → morado → azul neón
const gradientColors = [
  { r: 255, g: 20, b: 147 },   // rosa neón
  { r: 186, g: 85, b: 211 },   // morado
  { r: 0, g: 191, b: 255 }     // azul neón
];

// Interpolación de colores
function interpolateColor(c1, c2, t) {
  return {
    r: c1.r + (c2.r - c1.r) * t,
    g: c1.g + (c2.g - c1.g) * t,
    b: c1.b + (c2.b - c1.b) * t
  };
}

// Devuelve color en el punto de progreso
function getGradientColor(progress) {
  if (progress < 0.5) {
    return interpolateColor(gradientColors[0], gradientColors[1], progress * 2);
  } else {
    return interpolateColor(gradientColors[1], gradientColors[2], (progress - 0.5) * 2);
  }
}

class Heart {
  constructor() {
    this.startX = -50;
    this.x = this.startX;
    this.y = Math.random() * canvas.height;

    this.size = Math.random() * 40 + 15;
    this.speedX = Math.random() * 1.5 + 0.8; 
    this.speedY = (Math.random() - 0.5) * 0.3; 

    this.alpha = Math.random() * 0.3 + 0.7; // más sólidos
    this.life = 0;
    this.maxLife = canvas.width / this.speedX;
  }

  draw() {
    let progress = this.life / this.maxLife;
    let col = getGradientColor(progress);

    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.scale(this.size / 40, this.size / 40);

    ctx.beginPath();
    for (let t = 0; t < Math.PI * 2; t += 0.1) {
      let x = 16 * Math.pow(Math.sin(t), 3);
      let y = - (13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
      if (t === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.closePath();

    ctx.fillStyle = `rgba(${col.r},${col.g},${col.b},${this.alpha})`;

    // Glow neón más intenso
    ctx.shadowColor = `rgba(${col.r},${col.g},${col.b},1)`;
    ctx.shadowBlur = 30;

    ctx.fill();
    ctx.restore();
  }

  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.life++;
  }
}

let hearts = [];

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  if (Math.random() < 0.12) {
    hearts.push(new Heart());
  }

  hearts.forEach((heart, i) => {
    heart.update();
    heart.draw();

    if (heart.x > canvas.width + 80) {
      hearts.splice(i, 1);
    }
  });

  requestAnimationFrame(animate);
}

animate();

window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
